<!DOCTYPE html>
<html>
<head>
  <title>Ejercicio Javascript</title>
</head>
<body>
  <h1 id="mensajeBienvenida"></h1>
  <h2 id="mensajeDias"></h2>

  <script>
    let nombre = prompt("Ingrese su nombre");
    if (nombre === null || nombre.trim() === "") {
      nombre = "Usuario";
    }

    let apellido = prompt("Ingrese su apellido");
    if (apellido === null || apellido.trim() === "") {
      apellido = "";
    }

    document.getElementById("mensajeBienvenida").textContent = 
      `Bienvenido/a, ${nombre} ${apellido}!`;

    let fechaNacimientoStr = prompt("Ingrese su fecha de nacimiento - formato: AAAA-MM-DD");
    let fechaNacimiento;
    let fechaValida = false;

    while (!fechaValida) {
      if (fechaNacimientoStr === null) {
        alert("No se pudo obtener la fecha de nacimiento. El cálculo de días vividos no estará disponible.");
        break;
      }

      fechaNacimiento = new Date(fechaNacimientoStr);

      if (!isNaN(fechaNacimiento.getTime()) && fechaNacimientoStr.match(/^\d{4}-\d{2}-\d{2}$/)) {
        fechaValida = true;
      } else {
        fechaNacimientoStr = prompt("Formato de fecha incorrecto o fecha inválida. Por favor, ingrese su fecha de nacimiento en formato: AAAA-MM-DD");
      }
    }

    if (fechaValida) {
      const hoy = new Date();
      const diferenciaMs = hoy - fechaNacimiento;
      const diasVividos = Math.floor(diferenciaMs / (1000 * 60 * 60 * 24));

      document.getElementById("mensajeDias").textContent = 
        `Has vivido ${diasVividos} días.`;
    } else {
      document.getElementById("mensajeDias").textContent = 
        "No se pudo calcular la cantidad de días vividos debido a un error en la fecha de nacimiento.";
    }
  </script>
</body>
</html>
